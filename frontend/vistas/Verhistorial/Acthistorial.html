<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VetCare - Historial Clínico</title>
  <link rel="stylesheet" href="/frontend/styles/historialStyle.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body class="doctor">
  <header>
    <nav>
      <div class="logo"><i class="fa-solid fa-stethoscope"></i> VetCarruseles Doctor</div>
      <ul>
        <li><a href="/frontend/vistas/doc.html">Inicio</a></li>
        <li><a href="https://wa.me">Consultas</a></li>
        <li><a href="../vistas/verUsuarios/verusuario.html">Pacientes</a></li>
      </ul>
    </nav>
  </header>

  <section>
    <h2 style="text-align:center; color: var(--encabezado); margin-top: 2rem;">
      Actualizar historial clínico
    </h2>
    <div class="container">
      <!-- Lista de animales -->
      <div class="animal-list">
        <div class="animal" onclick="mostrarHistorial('Luna')">
          <img src="/src/img/labrador.png" alt="Luna">
          <div>
            <h4>Luna</h4>
            <p>Perrita - Labrador</p>
          </div>
        </div>
        <div class="animal" onclick="mostrarHistorial('Michi')">
          <img src="/src/img/persa.png" alt="Michi">
          <div>
            <h4>Michi</h4>
            <p>Gato - Persa</p>
          </div>
        </div>
        <div class="animal" onclick="mostrarHistorial('Roco')">
          <img src="/src/img/beagle.png" alt="Roco">
          <div>
            <h4>Roco</h4>
            <p>Perro - Beagle</p>
          </div>
        </div>
      </div>

      <!-- Panel de historial -->
      <div class="historial" id="panel-historial">
        <p>Seleccioná un animal para ver y editar su historial.</p>
      </div>
    </div>
  </section>

  <script>
    const historiales = {
      'Luna': {
        foto: '/src/img/labrador.png',
        texto: 'Control general. Vacunas al día. Se recomienda revisión dental el próximo mes.'
      },
      'Michi': {
        foto: '/src/img/persa.png',
        texto: 'Gato tranquilo. Peso estable. Se aplicó antiparasitario interno y externo.'
      },
      'Roco': {
        foto: '/src/img/beagle.png',
        texto: 'Revisión post operatoria exitosa. Herida cicatrizando bien.'
      }
    };

    function mostrarHistorial(nombre) {
      const panel = document.getElementById('panel-historial');
      const data = historiales[nombre];

      panel.innerHTML = `
        <h3>${nombre}</h3>
        <img src="${data.foto}" alt="${nombre}">
        <div class="editable" id="texto" contenteditable="true">${data.texto}</div>
        <button class="save-btn" onclick="guardar('${nombre}')">Guardar cambios</button>
      `;
    }

    function guardar(nombre) {
      const nuevoTexto = document.getElementById('texto').innerText;
      historiales[nombre].texto = nuevoTexto;
      alert('Historial de ' + nombre + ' actualizado correctamente.');
    }
  </script>
</body>
</html>